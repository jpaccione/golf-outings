<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Golf Day</title>
<link rel="stylesheet" href="styles.css" />
<script>
async function loadWeather() {
  const lat = 40.7628; // Douglaston latitude
  const lon = -73.7557; // Douglaston longitude
  const teeTime = '13:42';

  const res = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&hourly=temperature_2m,weathercode&timezone=auto`);
  const data = await res.json();

  const teeHour = parseInt(teeTime.split(':')[0]);
  const hourIndex = data.hourly.time.findIndex(t => new Date(t).getHours() === teeHour);

  const temp = Math.round(data.hourly.temperature_2m[hourIndex]);
  const code = data.hourly.weathercode[hourIndex];

  const weatherDescriptions = {
    0: 'Clear skies',
    1: 'Mostly clear',
    2: 'Partly cloudy',
    3: 'Overcast',
    45: 'Foggy',
    48: 'Fog with frost',
    51: 'Light drizzle',
    61: 'Light rain',
    71: 'Light snow',
    80: 'Showers'
  };

  document.getElementById('weather-temp').textContent = `${temp}°F`;
  document.getElementById('weather-desc').textContent = weatherDescriptions[code] || 'Great golf weather';
}
window.onload = loadWeather;
</script>
<style>
.weather-block {
  display: flex;
  align-items: center;
  background: #eaf4fc;
  padding: 15px;
  border-radius: 8px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  max-width: 400px;
}
.weather-temp {
  font-size: 2.5em;
  font-weight: bold;
  color: #2a5d84;
  margin-right: 15px;
}
.weather-desc {
  font-size: 1.1em;
  color: #555;
}
</style>
</head>
<body>
  <h1>Douglaston Golf Outing</h1>
  <section>
    <h2>Weather Forecast</h2>
    <div class="weather-block">
      <div id="weather-temp" class="weather-temp">--°F</div>
      <div id="weather-desc" class="weather-desc">Loading...</div>
    </div>
  </section>
</body>
</html>
